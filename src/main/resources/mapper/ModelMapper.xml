<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<!-- 【用户】 -->
<mapper namespace="com.wisewin.circle.dao.ModelDAO">

    <!--初始化用户数据-->
    <insert id="addDefault" parameterType="com.wisewin.circle.entity.bo.ModelBO">
      INSERT INTO ci_model("model","describe","sex","sex_count","birthday","constellation",
                  "height","weight","education","birthplace","search_distance","search_sex",
	              "search_age","sex_status","car_certification_status","be_like_count",
	              "be_super_like_count","super_like_count","super_like_count_time",
	"be_shielding_count","update_time","user_id","name")
      VALUES
                      (#{model},#{describe},#{sex},#{sexCount},#{birthday},#{constellation},
              #{height},#{weight},#{education},#{birthplace},#{searchDistance},#{searchSex},
              #{searchAge},#{sexStatus},#{carCertificationStatus},#{beLikeCount},
              #{beSuperLikeCount},#{superLikeCount},#{superLikeCountTime},
              #{beShieldingCount},#{updateTime},#{userId},#{name});
    </insert>
    <select id="selectModel" resultType="com.wisewin.circle.entity.bo.Model">
       select * from ci_model where model = #{model} and user_id = #{userId}
    </select>




    <update id="updateModel" parameterType="com.wisewin.circle.entity.dto.param.ModelParam">
        update ci_model
        set
            <if test="beLikeCount != null and beLikeCount != ''">
                be_like_count = #{beLikeCount},
            </if>
            <if test="beSuperLikeCount != null and beSuperLikeCount != ''">
                be_super_like_count = #{beSuperLikeCount},
            </if>
            <if test="sex != null and sex != ''">
               sex =  #{sex},
            </if>
            <if test="birthplace != null and birthplace != ''">
                birthplace =  #{birthplace},
            </if>
            <if test="education != null and education != ''">
                education = #{education},
            </if>
            <if test="weight != null and weight != ''">
                weight =  #{weight},
            </if>
            <if test="height != nul and height != ''">
                height = #{height},
            </if>
            <if test="constellation != null and constellation != ''">
                constellation = #{constellation},
            </if>
            <if test="birthday != null and birthday != ''">
                birthday = #{birthday},
            </if>
            <if test="describe != null and describe != ''">
                describe =  #{describe},
            </if>
        where id = #{id}


    </update>
</mapper>